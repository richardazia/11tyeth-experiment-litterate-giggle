---
title: 'An SVG clock'
date: Sat, 18 Dec 2021 19:54:26 +0000
draft: false
tags: ['canvas', 'learning', 'svg', 'tech related', 'web development']
---

Sometimes we experiment and play with technology. The clock below is an SVG clock using SVG and Canvas technology to display local time. Doing it with these two technologies was easier than with JavaScript. The code doesn't require calculating thousandths of a second like another clock I tried. The tutorial to make this clock is here: [W3 Canvas Clock](https://www.w3schools.com/graphics/canvas_clock.asp).

var canvas = document.getElementById("canvas"); var ctx = canvas.getContext("2d"); var radius = canvas.height / 2; ctx.translate(radius, radius); radius = radius \* 0.90 setInterval(drawClock, 1000); drawClock(); function drawClock(){ drawFace(ctx,radius); drawNumbers(ctx, radius); drawTime(ctx, radius); // drawHand(ctx, pos, length, width) } function drawFace(ctx, radius) { var grad; ctx.beginPath(); ctx.arc(0, 0, radius, 0 , 2\*Math.PI); ctx.fillStyle = "white"; ctx.fill(); grad = ctx.createRadialGradient(0, 0 ,radius\* 0.95, 0, 0, radius\*1.05); grad.addColorStop(0, '#333'); grad.addColorStop(0.5, 'white'); grad.addColorStop(1, '#333'); ctx.strokeStyle = grad; ctx.lineWidth = radius\*0.1; ctx.stroke(); ctx.beginPath(); ctx.arc(0, 0, radius \* 0.1, 0, 2\*Math.PI); ctx.fillStyle = '#333'; ctx.fill(); } <!-- Draw numbers on clock face --> function drawNumbers (ctx, radius) { var ang; var num; ctx.font = radius\*0.15 + "px arial"; ctx.textBaseline="middle"; ctx.textAlign="center"; for(num = 1; num < 13; num++){ ang = num \* Math.PI / 6; ctx.rotate(ang); ctx.translate(0, -radius\*0.85); ctx.rotate(-ang); ctx.fillText(num.toString(), 0, 0); ctx.rotate(ang); ctx.translate(0, radius\*0.85); ctx.rotate(-ang); } } function drawTime(ctx, radius){ var now = new Date(); var hour = now.getHours(); var minute = now.getMinutes(); var second = now.getSeconds(); // Hour hour = hour%12; hour=(hour\*Math.PI/6)+(minute\*Math.PI/(6\*60))+(second\*Math.PI/(360\*60)); drawHand(ctx, hour, radius\*0.5, radius\*0.07); //Minute minute = (minute\*Math.PI/30)+(second\*Math.PI/(30\*60)); drawHand(ctx, minute, radius\*0.8, radius\*0.07); //Second second=(second\*Math.PI/30); drawHand(ctx, second, radius\*0.9, radius\*0.02); } function drawHand(ctx, pos, length, width) { ctx.beginPath(); ctx.lineWidth = width; ctx.linecap = "round"; ctx.moveTo(0,0); ctx.rotate(pos); ctx.lineTo(0, -length); ctx.stroke(); ctx.rotate(-pos); }

My errors when writing the code were to miss out a zero, hence missing out the central circle, and then adding + instead of \* for minutes and seconds, so that the minute and second hands were wrong. When I spotted the typos I corrected them. Now it works.

I have 45 minutes of course left before I finish [this course: Front End Web Development Ultimate Course 2021](https://www.udemy.com/course/learn-front-end-development/). Some parts could have been shortened. I find that it is a good course to take you through some of the parts that other courses skip on. I like that it takes time to explore bootstrap in full, jquery, SVG to some degree, and canvas. It showed me tools I either struggled to understand, or others that I didn't know existed. It allowed me to fill in gaps in knowledge that should make follow-up courses more interesting.

Tomorrow I have to experiment with the game that is included in the course. When I finish this course, I can move on with the next.